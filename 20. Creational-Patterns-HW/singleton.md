##Singleton Pattern##


Singleton Pattern е object **creational** шаблон. Той е creational, защото има отношение към създаването на обекти. По-специално, той цели да ограничи създаването на повече от един обект от конкретен клас. Singleton Pattern е **object** шаблон, защото е ангажиран с връзките между обектите (т.е. уникалната инстанция към обект, която даден клас държи и достъпа на други обекти до него).

**Необходимостта** от прилагане на Singleton Pattern възниква при моделиране на обекти, които имат само една инстанция в реалния свят. Така например, в клас *Computer* може да има само едно устройство за възпроизвоеждане на звук. В случай, че се допусне създаването на няколко такива устройства и едновременното извеждане на различен звук, крайният резултат ще се различава от очаквания.

**Целите**, които се преследват при прилагането на Singleton Pattern са две:

+ подсигуряване създаването на само една инстанция на даден клас;
+ осигуряване на достъп до тази инстанция.
 
Singleton Pattern е **приложим** при наличие на конкурентни заявки за достъп до (общи) ресурси, което води до необходимост от централизирано осигуряване на достъпа до тях.

В софтуерния дизайн, **употребата** на Singleton Pattern се е наложила в следните случаи:

+  при дизайн на *Logger* класове;
+  при дизайн на *Configuration* класове;
+  при достъп до споделени ресурси (напр. сериен порт);
+  в комбинация с Abstract Factory или Factory Method шаблоните, при тяхното използване в многонишкова среда.

Singleton Pattern се **имплементира** чрез *static поле* в Singleton класа,  *private конструктор* и *static public метод*, който връща референция към static полето.

	using System.Runtime.CompilerServices;

    internal class Singleton
    {
        private static Singleton instance;

        private int exampleField;

        private Singleton()
        {
        }

        [MethodImpl(MethodImplOptions.Synchronized)]
        public static Singleton GetInstance()
        {
            if (instance == null)
            {
                return new Singleton();
            }
            else
            {
                return instance;
            }
        }

        public void ExampleMethod()
        {
        }
    }

При имплементацията на Singleton Pattern **участват** Singleton класа и клиента.

+ *Singleton класа* дефинира метод, който дава възможност за достъп до неговата уникална инстанция. Инстанцирането се реализира като static метод, която отговаря за създаването на единствена инстанция на класа.
+ *Клиентът* получава достъп до Singleton класа, единствено чрез неговия static метод.

**Следствията** от използването на Singleton Pattern са:

+ осигуряване на контролиран достъп на клиентите до единствената инстанция на Singleton класа;
+ разширяване функционалността в сравнение с глобалните променливи;
+ възможност за наследяване и разширяване функционалността на Singleton класа;
+ гъвкавост в сравнение с опредациите върху класове;

Структура:

![](singleton.png)